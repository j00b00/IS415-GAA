{
  "hash": "4d70588983eab4fb57c628a5b4ea6af7",
  "result": {
    "markdown": "---\ntitle: \"In-class Exercise 2\"\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\n\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\ndate: \"2024-02-24\"\n---\n\n\n## Get Started\n\n# Installing and loaing R packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, tmap, tidyverse, arrow, lubridate)\n```\n:::\n\n\n### Importing Grab-Posisi Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_parquet(\"data/GrabPosisi/part-00000-8bbff892-97d2-4011-9961-703e38972569.c000.snappy.parquet\")\n```\n:::\n\n\n# convert data type of pingtimestamp from character to date-time\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf$pingtimestamp <- as_datetime(df$pingtimestamp)\n```\n:::\n\n\n# DIY 1. Extract trips' origin locations. 2. derive three new columns.(Weekday, starting hour and day of the month). 3. name the output tibble data.frame.origin_df.\n\n\n::: {.cell}\n\n```{.r .cell-code}\norigin_df <- df %>%\n  group_by(trj_id) %>%\n  arrange(desc(pingtimestamp)) %>%\n  filter(row_number()==1) %>%\n  mutate(weekday = wday(pingtimestamp, label=TRUE, abbr=TRUE), \n         start_hr = factor(hour(pingtimestamp)), \n         day = factor(mday(pingtimestamp)))\n```\n:::\n\n\n# DIY 1. Extract trip's destination locations, 2. derive the Weekday, ending hour and day of the month columns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndestination_df <- df %>%\n  group_by(trj_id) %>%\n  arrange(pingtimestamp) %>%\n  filter(row_number()==1) %>%\n  mutate(weekday = wday(pingtimestamp, label=TRUE, abbr=TRUE), \n         end_hr = factor(hour(pingtimestamp)), \n         day = factor(mday(pingtimestamp)))\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n## Import Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\norigin_df <- read_rds(\"data/rds/origin_df.rds\")\ndestination_df <- read_rds(\"data/rds/destination_df.rds\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}